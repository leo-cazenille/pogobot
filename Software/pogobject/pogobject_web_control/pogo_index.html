<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">


    <title>Pogobject Web Control</title>
</head>

<body class="container">
    <header class="text-center p-3">
        <h1>Pogobject Web Control</h1>
    </header>
    <section>
        <div id="infos"></div>
        <div class="row my-2">
            <label for="ip" class="form-label text-center col-3 m-0 py-2 ">Address IP :</label>
            <input id="ip" class="form-control col" type="text">
        </div>
        <div class="row">
            <button class="btn border mb-2 fw-bold" type="button" onclick="status()">Status</button>
        </div>
        <div class="row my-2">
            <label for="cmd" class="form-label text-center col-3 m-0 py-2">Command :</label>
            <input id="cmd" class="form-control col" list="datalistOptions" type="text">
            <datalist class="" id="datalistOptions">
                <option value="run">
                <option value="rc_send_user_msg">
                <option value="rc_send_user_msg_cont">
                <option value="rc_send_bios_cmd">
                <option value="rc_send_bios_cmd_cont">
                <option value="autotest">
                <option value="autotest led">
            </datalist>
        </div>
        <div class="row">
            <button class="btn border mb-2 fw-bold" type="button" onclick="command()">Send Command</button>
        </div>
        <div class="row my-2">
            <label for="led_value" class="form-label text-center col-3 m-0 py-2">Led control :</label>
            <input id="led_value" class="form-control col" type="number" min="0" max="1024" value="0"
                oninput="sync_range();">
        </div>
        <div class="row slideContainer">
            <input class="p-0 slider" type="range" id="led_range" min="0" max="1024" step="1" value="0"
                oninput="sync_number();">
        </div>
        <div class="row my-2">
            <button class="btn border fw-bold" onclick="led_control()">Send led control</button>
        </div>
        <div class="row my-2">
            <button class="btn border mb-2 fw-bold" type="button" onclick="reboot()">Reboot pogobot</button>
        </div>
        <div class="row my-2">
            <button class="btn border col-8 fw-bold" type="button" id="bat" onclick="update_bat()">Update_bat</button>
            <div class="col border rounded form-control-disable py-2" id="bat_value"></div>
        </div>
        <div id="reponse-div" class="row border rounded  p-3">
            <div>Server response :</div>
            <div id="reponse"></div>
        </div>
    </section>
    <aside class="ms-5">
        <div class="border rounded p-3">
            <h5>Help :</h5>
            <p>
            <ul>
                <li>Rentrer l'adresse IP :</li>
                Vous pouvez vérifier que vous avez saisi la bonne adresse IP en testant la communication avec le pogobot
                via le bouton "Status".
                <li>Saisir une commande :</li>
                Vous pouvez écrire vous-même la commande, la sélectionner et la compléter si besoin. Envoyez la commande
                avec le bouton "Send Command".
                <li>Contrôler l'intensité de la led :</li>
                Vous pouvez saisir un nombre ou sélectionner une valeur avec la plage d'entrée. Les valeurs sont
                comprises entre 0 et 1024.
                Envoyez la valeur avec le bouton "Send led control".
                <li>Niveau de batterie :</li>
                Le bouton "Update_bat" sert à afficher la batterie du robot en %.

            </ul>

            Passer le pogobot en mode remote après un boot ou un reboot avec la cmd "run". <br>
            Voici la liste des commandes: <br>
            <ul>
                <li>run</li>
                <span>Start the user program</span>
                <li>rc_send_user_msg</li>
                <span>Send a message type 1 to all pogobots available through infrared</span>
                <li>rc_send_user_msg_cont</li>
                <span> Continuously send a message type 1 to all every delay Ms (rc_send_user_message_cont 'delay Ms'
                    'message')</span>
                <li>rc_send_bios_cmd</li>
                <span>Send command through IR</span>
                <li>rc_send_bios_cmd_cont</li>
                <span>Continuously send the command through IR every delay Ms (rc_send_user_message_cont 'delay Ms'
                    'message' 'args')</span>
                <li>autotest</li>
                <span>Autotest (allows to verifiy that is alive)</span>
            </ul>
            </p>
        </div>
    </aside>
    <footer class="text-center text-secondary">
        &copy; 2023 Isir - All Rights Reserved
        <img src="./img/logos/logo-ISIR-color.png" alt="logo ISIR">
    </footer>

    <script src="script.js"></script>
    <script> update_ip_address(); </script>
</body>

</html>